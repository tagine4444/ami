<div class="row">
	<div ng-include="'/app/components/toolbar/toolbar.html'"></div>
	<br/>
		<ul class="nav nav-tabs">
		  <li role="presentation" ng-class="{'active' : searchType=='draftRequests'}"><a href="#/searchRequest" ng-click="searchType = 'draftRequests'">Draft Requests <span class="badge">{{draftRequests.length}}</span></a></li>
		  <li role="presentation" ng-class="{'active' : searchType=='pendingRequests'}"><a ng-href="#/searchRequest" ng-click="searchType = 'pendingRequests'" >Pending Requests <span class="badge">{{pendingRequests.length}}</span></a></li>
		  <li role="presentation"ng-class="{'active' : searchType=='all'}"><a href="#/searchRequest" ng-click="searchType = 'all'">Search</a></li>
		</ul>  
		
		<br/>         	  
		<div class="panel panel-default" ng-show="searchType=='pendingRequests'">
		  <!-- Default panel contents -->
		  <div class="panel-heading">Pending Requests are submitted requests that have not yet been processed. Pending Requests can still be modified. </div>
		  <div class="panel-body">
		    
		    
		     <table class="table">
			     <thead>
				   <tr>
				   	<th>Request Number</th>
				   	<th>Veterinarian</th>
				   	<th>Animal</th>
				   	<th>Species</th>
				   	<th>Client</th>
				   	<th>Submitted Date</th>
				   </tr>
				  </thead>
				  <tbody>
				   <tr ng-repeat="aPendingRequest in pendingRequests">
				   	<td><a href="#/editRequest1/{{aPendingRequest.caseNumber}}"  ng-click="tab = 4">View Request {{aPendingRequest.caseNumber}}</a></td>
				   	<td>{{aPendingRequest.amiRequest.hospitalAndClientInfo.vet}}</td>
				   	<td>{{aPendingRequest.amiRequest.patientInfo.animalName}}</td>
				   	<td>{{aPendingRequest.amiRequest.patientInfo.species}} - {{aPendingRequest.amiRequest.patientInfo.breeds}}</td>
				   	<td>{{aPendingRequest.amiRequest.hospitalAndClientInfo.clientFirstName}} {{aPendingRequest.amiRequest.hospitalAndClientInfo.clientLastName}}</td>
				   	<td>{{ aPendingRequest.hasBeenSavedAndSubmittedToRadiologist  | jsonDate: 'dd MMM yyyy, h:mm a' }} </td>
				   
				   </tr>
				   </tbody>
			</table>
		  </div>
		
		  <!-- Table -->
		  <table class="table">
		    
		  </table>
		</div>
		
		<div class="panel panel-default" ng-show="searchType=='draftRequests'">
		  <!-- Default panel contents -->
		  <div class="panel-heading">Draft Requests are requests that have been saved as draft. They won't be processed until they are submitted to the radiologist.</div>
		
		  <!-- Table -->
		  <table class="table">
		     <thead>
			   <tr>
			   	<th>Request Number</th>
			   	<th>Veterinarian</th>
			   	<th>Animal</th>
			   	<th>Species</th>
			   	<th>Client</th>
			   	<th>Date</th>
			   </tr>
			  </thead>
			  <tbody>
			   <tr ng-repeat="aDraftRequest in draftRequests">
			   	<td><a href="#/editRequest/{{aDraftRequest.caseNumber}}"  ng-click="tab = 4">Edit Request {{aDraftRequest.caseNumber}}</a></td>
			   	<td>{{aDraftRequest.amiRequest.hospitalAndClientInfo.vet}}</td>
			   	<td>{{aDraftRequest.amiRequest.patientInfo.animalName}}</td>
			   	<td>{{aDraftRequest.amiRequest.patientInfo.species}} - {{aDraftRequest.amiRequest.patientInfo.breeds}}</td>
			   	<td>{{aDraftRequest.amiRequest.hospitalAndClientInfo.clientFirstName}} {{aDraftRequest.amiRequest.hospitalAndClientInfo.clientLastName}}</td>
			   	<td>{{ aDraftRequest.updateDate  | jsonDate: 'dd MMM yyyy, h:mm a' }} </td>
			   </tr>
			   </tbody>
		</table>
		</div>
		
		
		<div class="panel panel-default" ng-show="searchType=='all'">
		  <!-- Default panel contents -->
		  <div class="panel-heading">Search for requests by criteria</div>
		  <div class="panel-body">
		  <div class="navbar-form navbar-left" role="search">
			  <div class="form-group">
			    <select class="form-control" ng-model="searchBy" ng-change="updateSearchInputDisplay()"> 
				          <option ng-selected="true">Search By</option>
				          <option>Request Number</option>
				          <option>Animal Name</option>
				          <option>Client Last Name</option>
				          <option>Request Submitted Date</option>
				          <option>Last 50 Requests</option>
 					   </select>
 					   
 					   <input ng-disabled="!isSearchAllowed" type="text" class="form-control" ng-model="searchByInput1"  placeholder="{{searchByPlaceHolder1}}" ng-show ="searchByInput1Visible">
 					   <input type="text" class="form-control" ng-model="searchByInput2"  placeholder="{{searchByPlaceHolder2}}" ng-show ="searchByInput2Visible">
			  </div>
			  
			  <button ng-disabled="!isSearchAllowed" type="submit" class="btn btn-default" ng-click="doSearch()">Search</button>
		   </div>
		  </div>
		
		  <!-- Table -->
		  <br/><br/>
		  
		  <table class="table">
			     <thead>
				   <tr>
				   	<th>Request Number</th>
				   	<th>Veterinarian</th>
				   	<th>Animal</th>
				   	<th>Species</th>
				   	<th>Client</th>
				   	<th>Submitted Date</th>
				   	<th>Case Closed Date</th>
				   </tr>
				  </thead>
				  <tbody>
				   <tr ng-repeat="aSearchResult in searchResults">
				   	<td><a href="#/editRequest1/{{aSearchResult.caseNumber}}"  ng-click="tab = 4">{{aSearchResult.caseNumber}}</a></td>
				   	<td>{{aSearchResult.amiRequest.hospitalAndClientInfo.vet}}</td>
				   	<td>{{aSearchResult.amiRequest.patientInfo.animalName}}</td>
				   	<td>{{aSearchResult.amiRequest.patientInfo.species}} - {{aSearchResult.amiRequest.patientInfo.breeds}}</td>
				   	<td>{{aSearchResult.amiRequest.hospitalAndClientInfo.clientFirstName}} {{aSearchResult.amiRequest.hospitalAndClientInfo.clientLastName}}</td>
				   	<td>{{ aSearchResult.hasBeenSavedAndSubmittedToRadiologist | jsonDate: 'dd MMM yyyy, h:mm a' }} </td>
				   	<td>{{ aSearchResult.caseClosed  | jsonDate: 'dd MMM yyyy, h:mm a' }} </td>
				   </tr>
				   </tbody>
			</table>
		</div>

</div>
